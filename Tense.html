<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Tenses</title>

<style>
    :root{
        --bg:#050816;
        --card:#111827;
        --accent:#6366f1;
        --accent-soft:#4f46e5;
        --text:#e5e7eb;
        --muted:#9ca3af;
    }

    /* GLOBAL BACKGROUND WITH ANIMATION */
    body{
        margin:0;
        padding:0;
        font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
        background:#020617;
        color:var(--text);
        min-height:100vh;
        transition:0.4s;
        position:relative;
        overflow-x:hidden;
    }

    body::before{
        content:"";
        position:fixed;
        inset:-40%;
        background:
           radial-gradient(circle at 20% 0%, rgba(56,189,248,0.25), transparent 55%),
           radial-gradient(circle at 80% 0%, rgba(129,140,248,0.3), transparent 55%),
           radial-gradient(circle at 10% 80%, rgba(45,212,191,0.22), transparent 55%),
           radial-gradient(circle at 90% 80%, rgba(248,113,113,0.22), transparent 55%);
        opacity:.75;
        filter:blur(4px);
        z-index:-2;
        animation:spinBg 55s linear infinite;
    }

    body::after{
        content:"";
        position:fixed;
        inset:0;
        background-image:
            radial-gradient(1px 1px at 10% 20%, rgba(248,250,252,0.5), transparent 60%),
            radial-gradient(1px 1px at 80% 10%, rgba(248,250,252,0.35), transparent 60%),
            radial-gradient(1px 1px at 30% 70%, rgba(248,250,252,0.35), transparent 60%),
            radial-gradient(1px 1px at 60% 40%, rgba(248,250,252,0.4), transparent 60%);
        opacity:.5;
        z-index:-1;
        animation: driftStars 35s linear infinite;
        pointer-events:none;
    }

    @keyframes spinBg{
        from{transform:rotate(0deg);}
        to{transform:rotate(360deg);}
    }
    @keyframes driftStars{
        from{background-position:0 0, 0 0, 0 0, 0 0;}
        to{background-position:300px 200px, -200px 150px, 200px -200px, -250px -150px;}
    }

    /* Title */
    .animated-title{
        font-size: 2.7rem;
        font-weight: 800;
        text-align: center;
        color: #7dd3fc;
        margin-top: 30px;
        letter-spacing: 4px;
        text-transform: uppercase;
        animation: glow 2.5s ease-in-out infinite;
    }
    @keyframes glow{
        0%{ text-shadow: 0 0 10px #38bdf8, 0 0 20px #0ea5e9; }
        50%{ text-shadow: 0 0 25px #0284c7, 0 0 45px #0369a1; }
        100%{ text-shadow: 0 0 10px #38bdf8, 0 0 20px #0ea5e9; }
    }

    .author{
        text-align:center;
        color:var(--muted);
        font-size:.85rem;
        margin-bottom:8px;
    }

    .container{
        width:92%;
        max-width:960px;
        margin:20px auto 40px;
        padding:18px 16px 30px;
        border-radius:18px;
        background:linear-gradient(135deg,rgba(15,23,42,.96),rgba(15,23,42,.8));
        box-shadow:0 20px 45px rgba(0,0,0,.7);
        border:1px solid rgba(148,163,184,.2);
        transition:0.4s;
        position:relative;
        z-index:0;
    }

    .page{
        display:none;
        opacity:0;
        transform:translateX(30px);
        transition:all 0.45s ease;
    }
    .active{
        display:block;
        opacity:1;
        transform:translateX(0);
    }

    /* Tense cards */
    .card{
        position:relative;
        overflow:hidden;
        background:radial-gradient(circle at top,#111827,#020617 60%);
        padding:16px 18px;
        margin:14px auto;
        border-radius:14px;
        cursor:pointer;
        color:var(--text);
        border:1px solid rgba(148,163,184,.3);
        box-shadow:0 2px 8px rgba(0,0,0,0.2);
        transition:transform 0.15s ease-out, box-shadow 0.15s ease-out, background 0.15s ease-out;
        animation:
            floatGlow 3s ease-in-out infinite,
            rainbowGlow 4s linear infinite;
    }

    .card-main{
        display:flex;
        flex-direction:column;
        align-items:flex-start;
        padding-right:32px;
    }

    .label-main{
        font-size:1.1rem;
        font-weight:600;
        white-space:nowrap;
    }

    .label-sub{
        font-size:.8rem;
        color:var(--muted);
    }

    .card::after{
        content:"âž¡";
        position:absolute;
        right:14px; top:50%;
        transform:translateY(-50%);
        font-size:1.1rem;
        color:var(--accent);
        transition:0.25s;
    }

    .card:hover::after{
        transform:translate(4px,-50%);
    }

    .card::before{
        content:"";
        position:absolute;
        top:0; left:-200%;
        width:120%; height:100%;
        background:linear-gradient(120deg, transparent, rgba(255,255,255,.2), transparent);
        transform:skewX(-20deg);
        transition:0.7s;
        pointer-events:none;
    }
    .card:hover::before{ left:120%; }

    .card:hover{
        transform:perspective(600px) rotateX(5deg) rotateY(-5deg);
        animation:
            floatGlow 3s ease-in-out infinite,
            rainbowGlow 4s linear infinite,
            shake 0.4s ease-in-out 1;
    }

    .card.pressed{
        transform: scale(0.95);
        background: linear-gradient(145deg, #1e293b, #0f172a);
        border-color: #818cf8;
        box-shadow: 0 0 25px rgba(129,140,248,0.9);
    }

    @keyframes shake{
        0%{ transform:translateX(0) rotate(0); }
        20%{ transform:translateX(-3px) rotate(-1deg); }
        40%{ transform:translateX(3px) rotate(1deg); }
        60%{ transform:translateX(-3px) rotate(-1deg); }
        80%{ transform:translateX(3px) rotate(1deg); }
        100%{ transform:translateX(0) rotate(0); }
    }

    @keyframes rainbowGlow{
        0%{ box-shadow:0 0 12px #ff007c; }
        25%{ box-shadow:0 0 12px #ff8c00; }
        50%{ box-shadow:0 0 12px #00eaff; }
        75%{ box-shadow:0 0 12px #b400ff; }
        100%{ box-shadow:0 0 12px #ff007c; }
    }

    @keyframes floatGlow{
        0%{ transform:translateY(0); }
        50%{ transform:translateY(-6px); }
        100%{ transform:translateY(0); }
    }

    .card:active::after{
        content:"";
        position:absolute;
        left:var(--x); top:var(--y);
        width:0; height:0;
        background:rgba(99,102,241,0.4);
        border-radius:50%;
        transform:translate(-50%, -50%);
        animation:ripple .6s ease-out forwards;
    }
    @keyframes ripple{
        to{
            width:380px; height:380px;
            opacity:0;
        }
    }

    /* Sentence blocks */
    .sentenceBlock{
        background:#020617;
        padding:16px;
        margin:18px 0;
        border-radius:14px;
        border:1px solid rgba(148,163,184,.35);
        box-shadow:0 10px 25px rgba(0,0,0,.6);
    }

    .sentenceTitle{
        font-size:1.08rem;
        font-weight:600;
        margin-bottom:6px;
        color:#e5e7eb;
    }

    .line{
        background:#0f172a;
        border:1px solid rgba(148,163,184,.4);
        padding:5px 12px;
        font-size:1rem;
        border-radius:999px;
        display:inline-block;
        white-space:nowrap;
        margin:5px 0;
    }

    .label{
        color:var(--accent);
        font-weight:600;
    }

    .tappable{
        transition:0.15s ease;
        cursor:pointer;
    }

    /* PERMANENT SELECTED STATE FOR SENTENCE CARD */
    .sentence-selected{
        background: linear-gradient(150deg, #1e40af, #0f172a);
        border-color: #60a5fa !important;
        box-shadow: 0 0 25px rgba(96,165,250,0.75);
        transform: scale(0.97);
    }

    .backBtn{
        background:#111827;
        border:1px solid rgba(148,163,184,.4);
        border-radius:999px;
        padding:10px 20px;
        margin-top:20px;
        cursor:pointer;
        display:inline-flex;
        align-items:center;
        gap:6px;
        transition:0.2s;
        color:#e5e7eb;
    }

    .backBtn:hover{
        transform:scale(1.05);
        border-color:var(--accent-soft);
    }

    .backBtn span.icon{
        font-size:1.1rem;
    }

    /* Theme Toggle */
    .themeToggle{
        position:fixed;
        top:15px; right:15px;
        background:#111;
        padding:10px;
        border-radius:12px;
        cursor:pointer;
        font-size:22px;
        z-index:999;
        transition:0.3s;
        color:#e5e7eb;
    }
    .themeToggle:hover{
        transform:scale(1.2);
    }

    /* Light Theme */
    .lightTheme{
        background:#ffffff !important;
        color:#111827 !important;
    }
    .lightTheme .container{
        background:#ffffff !important;
        color:#111827 !important;
        box-shadow:0 10px 25px rgba(0,0,0,.12);
        border-color:#e5e7eb;
    }
    .lightTheme .animated-title{
        color:#0f172a;
        text-shadow:none;
    }
    .lightTheme .author{
        color:#4b5563;
    }
    .lightTheme .card{
        background:#f4f4f5 !important;
        color:#111827 !important;
        border-color:#cbd5e1;
        box-shadow:0 2px 8px rgba(0,0,0,0.1);
    }
    .lightTheme .label-main{
        color:#111827;
    }
    .lightTheme .label-sub{
        color:#4b5563;
    }
    .lightTheme .label{
        color:#1d4ed8;
    }
    .lightTheme .sentenceBlock{
        background:#f9fafb;
        color:#111827;
        border-color:#e5e7eb;
    }
    .lightTheme .sentenceTitle{
        color:#0f172a;
    }
    .lightTheme .line{
        background:#e5e7eb;
        color:#111827;
        border-color:#cbd5e1;
    }
    .lightTheme .themeToggle{
        background:#e5e7eb;
        color:#111827;
    }
    .lightTheme .backBtn{
        background:#0f172a !important;
        color:#ffffff !important;
        border-color:#1d4ed8 !important;
    }
    .lightTheme .card.pressed{
        background:#dbeafe !important;
        border-color:#2563eb !important;
        box-shadow:0 0 25px rgba(37,99,235,0.6) !important;
    }
    .lightTheme .sentence-selected{
        background:#dbeafe !important;
        border-color:#1d4ed8 !important;
        box-shadow:0 0 25px rgba(37,99,235,.55) !important;
    }

    @media(max-width:600px){
        .line{ white-space:normal; }
        .animated-title{ font-size:2rem; }
    }
</style>
</head>

<body>

<div class="themeToggle" onclick="toggleTheme()">ðŸŒ™</div>

<h1 class="animated-title">TENSES</h1>
<div class="author">Designed by <strong>Ameet Kumar</strong> (mr.amit.ji)</div>

<audio id="tapSound" src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3"></audio>

<div class="container">

<!-- PAGE 1 : MAIN TENSE SELECTION -->
<div id="page1" class="page active">
    <div class="card" onclick="openPage('presentPage')">
        <div class="card-main">
            <div class="label-main">Present Tense</div>
            <div class="label-sub">Simple â€¢ Continuous â€¢ Perfect</div>
        </div>
    </div>

    <div class="card" onclick="openPage('pastPage')">
        <div class="card-main">
            <div class="label-main">Past Tense</div>
            <div class="label-sub">Simple â€¢ Continuous â€¢ Perfect</div>
        </div>
    </div>

    <div class="card" onclick="openPage('futurePage')">
        <div class="card-main">
            <div class="label-main">Future Tense</div>
            <div class="label-sub">Simple â€¢ Continuous â€¢ Perfect</div>
        </div>
    </div>
</div>

<!-- PAGE 2 : PRESENT SUBTYPES -->
<div id="presentPage" class="page">
    <h2>Present Tense â€“ Choose Type</h2>

    <div class="card" onclick="openStructure('simplePresent')">
        <div class="card-main">
            <div class="label-main">Simple Present</div>
            <div class="label-sub">Habits â€¢ Daily routine â€¢ Facts</div>
        </div>
    </div>

    <div class="card" onclick="openStructure('presentContinuous')">
        <div class="card-main">
            <div class="label-main">Present Continuous</div>
            <div class="label-sub">Action happening now</div>
        </div>
    </div>

    <div class="card" onclick="openStructure('presentPerfect')">
        <div class="card-main">
            <div class="label-main">Present Perfect</div>
            <div class="label-sub">Action just/already completed</div>
        </div>
    </div>

    <div class="backBtn" onclick="history.back()">
        <span class="icon">â¬…</span> Back
    </div>
</div>

<!-- PAGE 2 : PAST SUBTYPES -->
<div id="pastPage" class="page">
    <h2>Past Tense â€“ Choose Type</h2>

    <div class="card" onclick="openStructure('simplePast')">
        <div class="card-main">
            <div class="label-main">Simple Past</div>
            <div class="label-sub">Finished action in the past</div>
        </div>
    </div>

    <div class="card" onclick="openStructure('pastContinuous')">
        <div class="card-main">
            <div class="label-main">Past Continuous</div>
            <div class="label-sub">Action was going on in the past</div>
        </div>
    </div>

    <div class="card" onclick="openStructure('pastPerfect')">
        <div class="card-main">
            <div class="label-main">Past Perfect</div>
            <div class="label-sub">One past action before another</div>
        </div>
    </div>

    <div class="backBtn" onclick="history.back()">
        <span class="icon">â¬…</span> Back
    </div>
</div>

<!-- PAGE 2 : FUTURE SUBTYPES -->
<div id="futurePage" class="page">
    <h2>Future Tense â€“ Choose Type</h2>

    <div class="card" onclick="openStructure('simpleFuture')">
        <div class="card-main">
            <div class="label-main">Simple Future</div>
            <div class="label-sub">Decisions â€¢ Future plans</div>
        </div>
    </div>

    <div class="card" onclick="openStructure('futureContinuous')">
        <div class="card-main">
            <div class="label-main">Future Continuous</div>
            <div class="label-sub">Action will be going on</div>
        </div>
    </div>

    <div class="card" onclick="openStructure('futurePerfect')">
        <div class="card-main">
            <div class="label-main">Future Perfect</div>
            <div class="label-sub">Completed by a point in future</div>
        </div>
    </div>

    <div class="backBtn" onclick="history.back()">
        <span class="icon">â¬…</span> Back
    </div>
</div>

<!-- PAGE 3 : STRUCTURE VIEW -->
<div id="structurePage" class="page">
    <h2 id="title"></h2>
    <div id="structureContent"></div>
    <div class="backBtn" onclick="history.back()">
        <span class="icon">â¬…</span> Back
    </div>
</div>

</div> <!-- /container -->

<!-- Confetti library -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
/* ---------- THEME ---------- */
function toggleTheme(){
    document.body.classList.toggle("lightTheme");
}

/* ---------- GLOBAL TENSE DATA ---------- */
const tenses = {
    simplePresent:{
        title:"Simple Present Tense",
        rows:[
            ["Affirmative",
             "Subject + V1 (+s/es)",
             "Sub + V1 (à¤¤à¤¾ à¤¹à¥‚à¤ / à¤¤à¥€ à¤¹à¥‚à¤ / à¤¤à¥‡ à¤¹à¥ˆà¤‚ / à¤¤à¤¾ à¤¹à¥ˆ / à¤¤à¥€ à¤¹à¥ˆ)"],
            ["Negative",
             "Subject + do/does + not + V1",
             "Sub + à¤¨à¤¹à¥€à¤‚ + V1 (à¤¤à¤¾ à¤¹à¥‚à¤ / à¤¤à¥€ à¤¹à¥‚à¤ / à¤¤à¥‡ à¤¹à¥ˆà¤‚ / à¤¤à¤¾ à¤¹à¥ˆ / à¤¤à¥€ à¤¹à¥ˆ)"],
            ["Interrogative",
             "Do/Does + subject + V1 ?",
             "à¤•à¥à¤¯à¤¾ + Sub + V1 (à¤¤à¤¾ à¤¹à¥‚à¤ / à¤¤à¥€ à¤¹à¥‚à¤ / à¤¤à¥‡ à¤¹à¥ˆà¤‚ / à¤¤à¤¾ à¤¹à¥ˆ / à¤¤à¥€ à¤¹à¥ˆ)?"],
            ["WH Question",
             "WH + do/does + subject + V1 ?",
             "Sub + WHâ€‘word + V1 (à¤¤à¤¾ à¤¹à¥‚à¤ / à¤¤à¥€ à¤¹à¥‚à¤ / à¤¤à¥‡ à¤¹à¥ˆà¤‚ / à¤¤à¤¾ à¤¹à¥ˆ / à¤¤à¥€ à¤¹à¥ˆ)?"]
        ]
    },

    presentContinuous:{
        title:"Present Continuous Tense",
        rows:[
            ["Affirmative",
             "Subject + is/am/are + V1+ing",
             "Sub + V1 (à¤°à¤¹à¤¾ à¤¹à¥‚à¤ / à¤°à¤¹à¥€ à¤¹à¥‚à¤ / à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚ / à¤°à¤¹à¤¾ à¤¹à¥ˆ / à¤°à¤¹à¥€ à¤¹à¥ˆ)"],
            ["Negative",
             "Subject + is/am/are + not + V1+ing",
             "Sub + à¤¨à¤¹à¥€à¤‚ + V1 (à¤°à¤¹à¤¾ à¤¹à¥‚à¤ / à¤°à¤¹à¥€ à¤¹à¥‚à¤ / à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚ / à¤°à¤¹à¤¾ à¤¹à¥ˆ / à¤°à¤¹à¥€ à¤¹à¥ˆ)"],
            ["Interrogative",
             "Is/Am/Are + subject + V1+ing ?",
             "à¤•à¥à¤¯à¤¾ + Sub + V1 (à¤°à¤¹à¤¾ à¤¹à¥‚à¤ / à¤°à¤¹à¥€ à¤¹à¥‚à¤ / à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚ / à¤°à¤¹à¤¾ à¤¹à¥ˆ / à¤°à¤¹à¥€ à¤¹à¥ˆ)?"],
            ["WH Question",
             "WH + is/am/are + subject + V1+ing ?",
             "Sub + WHâ€‘word + V1 (à¤°à¤¹à¤¾ à¤¹à¥‚à¤ / à¤°à¤¹à¥€ à¤¹à¥‚à¤ / à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚ / à¤°à¤¹à¤¾ à¤¹à¥ˆ / à¤°à¤¹à¥€ à¤¹à¥ˆ)?"]
        ]
    },

    presentPerfect:{
        title:"Present Perfect Tense",
        rows:[
            ["Affirmative",
             "Subject + has/have + V3",
             "Sub + V3 (à¤šà¥à¤•à¤¾ à¤¹à¥‚à¤ / à¤šà¥à¤•à¥€ à¤¹à¥‚à¤ / à¤šà¥à¤•à¥‡ à¤¹à¥ˆà¤‚ / à¤šà¥à¤•à¤¾ à¤¹à¥ˆ / à¤šà¥à¤•à¥€ à¤¹à¥ˆ)"],
            ["Negative",
             "Subject + has/have + not + V3",
             "Sub + à¤¨à¤¹à¥€à¤‚ + V3 (à¤šà¥à¤•à¤¾ à¤¹à¥‚à¤ / à¤šà¥à¤•à¥€ à¤¹à¥‚à¤ / à¤šà¥à¤•à¥‡ à¤¹à¥ˆà¤‚ / à¤šà¥à¤•à¤¾ à¤¹à¥ˆ / à¤šà¥à¤•à¥€ à¤¹à¥ˆ)"],
            ["Interrogative",
             "Has/Have + subject + V3 ?",
             "à¤•à¥à¤¯à¤¾ + Sub + V3 (à¤šà¥à¤•à¤¾ à¤¹à¥‚à¤ / à¤šà¥à¤•à¥€ à¤¹à¥‚à¤ / à¤šà¥à¤•à¥‡ à¤¹à¥ˆà¤‚ / à¤šà¥à¤•à¤¾ à¤¹à¥ˆ / à¤šà¥à¤•à¥€ à¤¹à¥ˆ)?"],
            ["WH Question",
             "WH + has/have + subject + V3 ?",
             "Sub + WHâ€‘word + V3 (à¤šà¥à¤•à¤¾ à¤¹à¥‚à¤ / à¤šà¥à¤•à¥€ à¤¹à¥‚à¤ / à¤šà¥à¤•à¥‡ à¤¹à¥ˆà¤‚ / à¤šà¥à¤•à¤¾ à¤¹à¥ˆ / à¤šà¥à¤•à¥€ à¤¹à¥ˆ)?"]
        ]
    },

    simplePast:{
        title:"Simple Past Tense",
        rows:[
            ["Affirmative",
             "Subject + V2",
             "Sub + V2 (à¤¥à¤¾ / à¤¥à¥€ / à¤¥à¥‡)"],
            ["Negative",
             "Subject + did not + V1",
             "Sub + à¤¨à¤¹à¥€à¤‚ + V2 (à¤¥à¤¾ / à¤¥à¥€ / à¤¥à¥‡)"],
            ["Interrogative",
             "Did + subject + V1 ?",
             "à¤•à¥à¤¯à¤¾ + Sub + V2 (à¤¥à¤¾ / à¤¥à¥€ / à¤¥à¥‡)?"],
            ["WH Question",
             "WH + did + subject + V1 ?",
             "Sub + WHâ€‘word + V2 (à¤¥à¤¾ / à¤¥à¥€ / à¤¥à¥‡)?"]
        ]
    },

    pastContinuous:{
        title:"Past Continuous Tense",
        rows:[
            ["Affirmative",
             "Subject + was/were + V1+ing",
             "Sub + V1 (à¤°à¤¹à¤¾ à¤¥à¤¾ / à¤°à¤¹à¥€ à¤¥à¥€ / à¤°à¤¹à¥‡ à¤¥à¥‡)"],
            ["Negative",
             "Subject + was/were + not + V1+ing",
             "Sub + à¤¨à¤¹à¥€à¤‚ + V1 (à¤°à¤¹à¤¾ à¤¥à¤¾ / à¤°à¤¹à¥€ à¤¥à¥€ / à¤°à¤¹à¥‡ à¤¥à¥‡)"],
            ["Interrogative",
             "Was/Were + subject + V1+ing ?",
             "à¤•à¥à¤¯à¤¾ + Sub + V1 (à¤°à¤¹à¤¾ à¤¥à¤¾ / à¤°à¤¹à¥€ à¤¥à¥€ / à¤°à¤¹à¥‡ à¤¥à¥‡)?"],
            ["WH Question",
             "WH + was/were + subject + V1+ing ?",
             "Sub + WHâ€‘word + V1 (à¤°à¤¹à¤¾ à¤¥à¤¾ / à¤°à¤¹à¥€ à¤¥à¥€ / à¤°à¤¹à¥‡ à¤¥à¥‡)?"]
        ]
    },

    pastPerfect:{
        title:"Past Perfect Tense",
        rows:[
            ["Affirmative",
             "Subject + had + V3",
             "Sub + V3 (à¤šà¥à¤•à¤¾ à¤¥à¤¾ / à¤šà¥à¤•à¥€ à¤¥à¥€ / à¤šà¥à¤•à¥‡ à¤¥à¥‡)"],
            ["Negative",
             "Subject + had + not + V3",
             "Sub + à¤¨à¤¹à¥€à¤‚ + V3 (à¤šà¥à¤•à¤¾ à¤¥à¤¾ / à¤šà¥à¤•à¥€ à¤¥à¥€ / à¤šà¥à¤•à¥‡ à¤¥à¥‡)"],
            ["Interrogative",
             "Had + subject + V3 ?",
             "à¤•à¥à¤¯à¤¾ + Sub + V3 (à¤šà¥à¤•à¤¾ à¤¥à¤¾ / à¤šà¥à¤•à¥€ à¤¥à¥€ / à¤šà¥à¤•à¥‡ à¤¥à¥‡)?"],
            ["WH Question",
             "WH + had + subject + V3 ?",
             "Sub + WHâ€‘word + V3 (à¤šà¥à¤•à¤¾ à¤¥à¤¾ / à¤šà¥à¤•à¥€ à¤¥à¥€ / à¤šà¥à¤•à¥‡ à¤¥à¥‡)?"]
        ]
    },

    simpleFuture:{
        title:"Simple Future Tense",
        rows:[
            ["Affirmative",
             "Subject + will/shall + V1",
             "Sub + V1 (à¤—à¤¾ / à¤—à¥€ / à¤—à¥‡)"],
            ["Negative",
             "Subject + will/shall + not + V1",
             "Sub + à¤¨à¤¹à¥€à¤‚ + V1 (à¤—à¤¾ / à¤—à¥€ / à¤—à¥‡)"],
            ["Interrogative",
             "Will/Shall + subject + V1 ?",
             "à¤•à¥à¤¯à¤¾ + Sub + V1 (à¤—à¤¾ / à¤—à¥€ / à¤—à¥‡)?"],
            ["WH Question",
             "WH + will/shall + subject + V1 ?",
             "Sub + WHâ€‘word + V1 (à¤—à¤¾ / à¤—à¥€ / à¤—à¥‡)?"]
        ]
    },

    futureContinuous:{
        title:"Future Continuous Tense",
        rows:[
            ["Affirmative",
             "Subject + will/shall be + V1+ing",
             "Sub + V1 (à¤°à¤¹à¤¾ à¤¹à¥‹à¤—à¤¾ / à¤°à¤¹à¥€ à¤¹à¥‹à¤—à¥€ / à¤°à¤¹à¥‡ à¤¹à¥‹à¤‚à¤—à¥‡)"],
            ["Negative",
             "Subject + will/shall not be + V1+ing",
             "Sub + à¤¨à¤¹à¥€à¤‚ + V1 (à¤°à¤¹à¤¾ à¤¹à¥‹à¤—à¤¾ / à¤°à¤¹à¥€ à¤¹à¥‹à¤—à¥€ / à¤°à¤¹à¥‡ à¤¹à¥‹à¤‚à¤—à¥‡)"],
            ["Interrogative",
             "Will/Shall + subject + be + V1+ing ?",
             "à¤•à¥à¤¯à¤¾ + Sub + V1 (à¤°à¤¹à¤¾ à¤¹à¥‹à¤—à¤¾ / à¤°à¤¹à¥€ à¤¹à¥‹à¤—à¥€ / à¤°à¤¹à¥‡ à¤¹à¥‹à¤‚à¤—à¥‡)?"],
            ["WH Question",
             "WH + will/shall + subject + be + V1+ing ?",
             "Sub + WHâ€‘word + V1 (à¤°à¤¹à¤¾ à¤¹à¥‹à¤—à¤¾ / à¤°à¤¹à¥€ à¤¹à¥‹à¤—à¥€ / à¤°à¤¹à¥‡ à¤¹à¥‹à¤‚à¤—à¥‡)?"]
        ]
    },

    futurePerfect:{
        title:"Future Perfect Tense",
        rows:[
            ["Affirmative",
             "Subject + will/shall have + V3",
             "Sub + V3 (à¤šà¥à¤•à¤¾ à¤¹à¥‹à¤—à¤¾ / à¤šà¥à¤•à¥€ à¤¹à¥‹à¤—à¥€ / à¤šà¥à¤•à¥‡ à¤¹à¥‹à¤‚à¤—à¥‡)"],
            ["Negative",
             "Subject + will/shall not have + V3",
             "Sub + à¤¨à¤¹à¥€à¤‚ + V3 (à¤šà¥à¤•à¤¾ à¤¹à¥‹à¤—à¤¾ / à¤šà¥à¤•à¥€ à¤¹à¥‹à¤—à¥€ / à¤šà¥à¤•à¥‡ à¤¹à¥‹à¤‚à¤—à¥‡)"],
            ["Interrogative",
             "Will/Shall + subject + have + V3 ?",
             "à¤•à¥à¤¯à¤¾ + Sub + V3 (à¤šà¥à¤•à¤¾ à¤¹à¥‹à¤—à¤¾ / à¤šà¥à¤•à¥€ à¤¹à¥‹à¤—à¥€ / à¤šà¥à¤•à¥‡ à¤¹à¥‹à¤‚à¤—à¥‡)?"],
            ["WH Question",
             "WH + will/shall + subject + have + V3 ?",
             "Sub + WHâ€‘word + V3 (à¤šà¥à¤•à¤¾ à¤¹à¥‹à¤—à¤¾ / à¤šà¥à¤•à¥€ à¤¹à¥‹à¤—à¥€ / à¤šà¥à¤•à¥‡ à¤¹à¥‹à¤‚à¤—à¥‡)?"]
        ]
    }
};

/* ---------- BASIC HELPERS ---------- */
function showPage(id){
    document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}

/* ---------- HISTORY + PHONE BACK SUPPORT ---------- */

// initial state
history.replaceState({page:"page1"}, "");
showPage("page1");

// tense page open (Present/Past/Future)
function openPage(page){
    history.pushState({page}, "");
    showPage(page);
}

// render structure content only
function renderStructure(type){
    const info = tenses[type];
    const container = document.getElementById("structureContent");
    document.getElementById("title").innerText = info.title;

    let html = "";
    info.rows.forEach(r=>{
        html += `
        <div class="sentenceBlock tappable">
            <div class="sentenceTitle">${r[0]}</div>
            <div class="line"><span class="label">English:</span> ${r[1]}</div><br/>
            <div class="line"><span class="label">Hindi:</span> ${r[2]}</div>
        </div>`;
    });
    container.innerHTML = html;

    attachTappableListeners(); // re-bind on new blocks
}

// open structure page + push history
function openStructure(type){
    history.pushState({page:"structurePage", type}, "");
    renderStructure(type);
    showPage("structurePage");
    blast();
}

// handle browser / phone back button
window.addEventListener("popstate", (e)=>{
    const state = e.state;
    if(!state || !state.page){
        showPage("page1");
        return;
    }
    if(state.page === "structurePage" && state.type){
        renderStructure(state.type);
    }
    showPage(state.page);
});

/* ---------- EFFECTS: CARDS & SENTENCE TAPS ---------- */

// tense cards: ripple + sound + tiny press
function attachCardListeners(){
    document.querySelectorAll('.card').forEach(btn=>{
        if(btn.dataset.bound === "1") return;
        btn.dataset.bound = "1";

        btn.addEventListener('click', function(e){
            let rect = btn.getBoundingClientRect();
            btn.style.setProperty('--x', (e.clientX - rect.left) + "px");
            btn.style.setProperty('--y', (e.clientY - rect.top) + "px");

            const sound = document.getElementById("tapSound");
            if(sound){
                sound.currentTime = 0;
                sound.play();
            }

            btn.classList.add('pressed');
            setTimeout(()=> btn.classList.remove('pressed'), 150);
        });
    });
}

// sentence cards: PERMANENT selected highlight
function attachTappableListeners(){
    document.querySelectorAll('.tappable').forEach(block=>{
        if(block.dataset.bound === "1") return;
        block.dataset.bound = "1";

        block.addEventListener('click', ()=>{
            document.querySelectorAll('.tappable').forEach(b=>{
                b.classList.remove('sentence-selected');
            });
            block.classList.add('sentence-selected');

            const sound = document.getElementById("tapSound");
            if(sound){
                sound.currentTime = 0;
                sound.play();
            }
        });
    });
}

/* ---------- CONFETTI ---------- */
function blast(){
    confetti({
        spread:160,
        startVelocity:35,
        particleCount:40,
        origin:{ y:0.2 }
    });
}

/* initial bindings */
attachCardListeners();
attachTappableListeners();
</script>

</body>
</html>